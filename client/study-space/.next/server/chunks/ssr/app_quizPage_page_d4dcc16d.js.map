{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/quizPage/page.js"],"sourcesContent":["\"use client\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\n\nexport default function QuizPage() {\n  const searchParams = useSearchParams();\n  const quiz_id = searchParams.get(\"quiz_id\");\n  const [quiz, setQuiz] = useState(null);\n  const [answers, setAnswers] = useState({});\n  const [submitted, setSubmitted] = useState(false);\n  const [scoreCount, setScoreCount] = useState(0);\n\n  useEffect(() => {\n    if (!quiz_id) return;\n\n    const fetchQuiz = async () => {\n      try {\n        const res = await fetch(`/api/get-quiz?id=${quiz_id}`);\n        const data = await res.json();\n        setQuiz(data);\n      } catch (err) {\n        console.error(\"Error fetching quiz:\", err);\n      }\n    };\n\n    fetchQuiz();\n  }, [quiz_id]);\n\n  const handleOptionSelect = (questionIndex, optionIndex) => {\n    if (submitted) return; \n    setAnswers((prev) => ({ ...prev, [questionIndex]: optionIndex }));\n  };\n\n  const handleSubmit = () => {\n    if (Object.keys(answers).length !== quiz.questions.length) {\n      alert(\"Please answer all questions before submitting!\");\n      return;\n    }\n\n    let score = 0;\n    quiz.questions.forEach((q, i) => {\n      if (answers[i] === q.answerIndexes[0]) score++;\n    });\n\n    setScoreCount(score);\n    setSubmitted(true);\n  };\n\n  if (!quiz) return <div>Quiz not found</div>;\n\n  return (\n    <div>\n      <h1>{quiz.quizTitle}</h1>\n      {submitted && (\n        <h1\n          style={{\n            fontWeight:\"bold\"\n          }}\n        >\n          Score:{scoreCount}/{quiz.questions.length} \n        </h1>\n      )}\n\n      <ul>\n        {quiz.questions?.map((q, i) => {\n          const selected = answers[i];\n          const correct = q.answerIndexes[0];\n\n          return (\n            <li key={i}>\n              <p>\n                {i + 1}. {q.question}\n              </p>\n              <ul className=\"formInput\">\n                {q.options.map((opt, optIndex) => {\n                  const isSelected = selected === optIndex;\n                  const isCorrect = submitted && optIndex === correct;\n                  const isWrong =\n                    submitted && isSelected && selected !== correct;\n\n                  return (\n                    <li\n                      key={optIndex}\n                      onClick={() => handleOptionSelect(i, optIndex)}\n                      style={{\n                        cursor: submitted ? \"default\" : \"pointer\",\n                        fontWeight: isSelected ? \"bold\" : \"normal\",\n                        color: isCorrect\n                          ? \"green\"\n                          : isWrong\n                          ? \"red\"\n                          : \"black\",\n                      }}\n                    >\n                      {opt}\n                    </li>\n                  );\n                })}\n                {submitted && (\n                <p\n                style={{\n                  fontWeight: \"bold\"\n                }}   \n                >\n                  Explanation: {q.explanation}\n                </p>\n                )}\n              </ul>\n              \n            </li>\n          );\n        })}\n      </ul>\n\n      {!submitted && (\n        <button onClick={handleSubmit}>Submit Quiz</button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,UAAU,aAAa,GAAG,CAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,CAAC;IACxC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,SAAS;QAEd,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,iBAAiB,EAAE,SAAS;gBACrD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,qBAAqB,CAAC,eAAe;QACzC,IAAI,WAAW;QACf,WAAW,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,cAAc,EAAE;YAAY,CAAC;IACjE;IAEA,MAAM,eAAe;QACnB,IAAI,OAAO,IAAI,CAAC,SAAS,MAAM,KAAK,KAAK,SAAS,CAAC,MAAM,EAAE;YACzD,MAAM;YACN;QACF;QAEA,IAAI,QAAQ;QACZ,KAAK,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG;YACzB,IAAI,OAAO,CAAC,EAAE,KAAK,EAAE,aAAa,CAAC,EAAE,EAAE;QACzC;QAEA,cAAc;QACd,aAAa;IACf;IAEA,IAAI,CAAC,MAAM,qBAAO,8OAAC;kBAAI;;;;;;IAEvB,qBACE,8OAAC;;0BACC,8OAAC;0BAAI,KAAK,SAAS;;;;;;YAClB,2BACC,8OAAC;gBACC,OAAO;oBACL,YAAW;gBACb;;oBACD;oBACQ;oBAAW;oBAAE,KAAK,SAAS,CAAC,MAAM;;;;;;;0BAI7C,8OAAC;0BACE,KAAK,SAAS,EAAE,IAAI,CAAC,GAAG;oBACvB,MAAM,WAAW,OAAO,CAAC,EAAE;oBAC3B,MAAM,UAAU,EAAE,aAAa,CAAC,EAAE;oBAElC,qBACE,8OAAC;;0CACC,8OAAC;;oCACE,IAAI;oCAAE;oCAAG,EAAE,QAAQ;;;;;;;0CAEtB,8OAAC;gCAAG,WAAU;;oCACX,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK;wCACnB,MAAM,aAAa,aAAa;wCAChC,MAAM,YAAY,aAAa,aAAa;wCAC5C,MAAM,UACJ,aAAa,cAAc,aAAa;wCAE1C,qBACE,8OAAC;4CAEC,SAAS,IAAM,mBAAmB,GAAG;4CACrC,OAAO;gDACL,QAAQ,YAAY,YAAY;gDAChC,YAAY,aAAa,SAAS;gDAClC,OAAO,YACH,UACA,UACA,QACA;4CACN;sDAEC;2CAZI;;;;;oCAeX;oCACC,2BACD,8OAAC;wCACD,OAAO;4CACL,YAAY;wCACd;;4CACC;4CACe,EAAE,WAAW;;;;;;;;;;;;;;uBAnCxB;;;;;gBA0Cb;;;;;;YAGD,CAAC,2BACA,8OAAC;gBAAO,SAAS;0BAAc;;;;;;;;;;;;AAIvC","debugId":null}}]
}