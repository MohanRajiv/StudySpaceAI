{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport quizPage from \"@/app/quizPage/page\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getQuizByID(quizID){\n    try {\n        await connectToDB();\n        const quiz = await QuizModel.getQuizByID(quizID).lean();\n        if (!quiz) throw new Error(\"Quiz not found\");\n        return JSON.parse(JSON.stringify(quiz));\n    }\n    catch (error){\n        console.log(error);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndex: q.correctAnswer,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IA6DsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport quizPage from \"@/app/quizPage/page\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getQuizByID(quizID){\n    try {\n        await connectToDB();\n        const quiz = await QuizModel.getQuizByID(quizID).lean();\n        if (!quiz) throw new Error(\"Quiz not found\");\n        return JSON.parse(JSON.stringify(quiz));\n    }\n    catch (error){\n        console.log(error);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndex: q.correctAnswer,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAkEsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/quiz.js"],"sourcesContent":["\"use client\"\nimport { useState } from \"react\"\nimport { deleteQuiz, updateQuiz } from \"@/actions/quiz.action\";\n\nexport default function Quiz({text, id}) {\n    const [showUpdateInput, setShowUpdateInput] = useState(false);\n    const [newText, setNewText] = useState(text);\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        updateQuiz(id, newText);\n        setShowUpdateInput(!showUpdateInput);\n    };\n\n    return (\n        <div className=\"formInput\">\n            <div>{text}</div>\n            {showUpdateInput && (\n                <input\n                    value={newText}\n                    onChange={(e) => setNewText(e.target.value)}\n                    type=\"text\"\n                    className=\"formInput\"\n                />\n            )}\n\n            <div>\n                {showUpdateInput ? (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Cancel\n                    </button>\n                ) : (\n                    <button onClick={() => deleteQuiz(id)}>\n                        Delete\n                    </button>\n                )}\n\n                {showUpdateInput ? (\n                    <button onClick={handleUpdate}>\n                        Save\n                    </button>\n                ) : (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Update\n                    </button>\n                )}\n                \n            </div>\n\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAFA;;;;AAIe,SAAS,KAAK,EAAC,IAAI,EAAE,EAAE,EAAC;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,IAAA,6JAAU,EAAC,IAAI;QACf,mBAAmB,CAAC;IACxB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;0BAAK;;;;;;YACL,iCACG,8OAAC;gBACG,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,MAAK;gBACL,WAAU;;;;;;0BAIlB,8OAAC;;oBACI,gCACG,8OAAC;wBAAO,SAAS,IAAM,mBAAmB,CAAC;kCAAkB;;;;;6CAI7D,8OAAC;wBAAO,SAAS,IAAM,IAAA,6JAAU,EAAC;kCAAK;;;;;;oBAK1C,gCACG,8OAAC;wBAAO,SAAS;kCAAc;;;;;6CAI/B,8OAAC;wBAAO,SAAS,IAAM,mBAAmB,CAAC;kCAAkB;;;;;;;;;;;;;;;;;;AASjF","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/quizPage/page.js"],"sourcesContent":["\"use client\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\n\nexport default function QuizPage() {\n  const searchParams = useSearchParams();\n  const quiz_id = searchParams.get(\"quiz_id\");\n  const [quiz, setQuiz] = useState(null);\n\n  useEffect(() => {\n    if (!quiz_id) return;\n\n    const fetchQuiz = async () => {\n      try {\n        const res = await fetch(`/api/get-quiz?id=${quiz_id}`);\n        const data = await res.json();\n        setQuiz(data);\n      } catch (err) {\n        console.error(\"Error fetching quiz:\", err);\n      }\n    };\n\n    fetchQuiz();\n  }, [quiz_id]);\n\n  if (!quiz) return <div>Quiz not found</div>;\n\n  return (\n    <div>\n      <h1>{quiz.quizTitle}</h1>\n      <ul>\n        {quiz.questions?.map((q, i) => (\n          <li key={i}>{q.question}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,UAAU,aAAa,GAAG,CAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,SAAS;QAEd,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,iBAAiB,EAAE,SAAS;gBACrD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,MAAM,qBAAO,8OAAC;kBAAI;;;;;;IAEvB,qBACE,8OAAC;;0BACC,8OAAC;0BAAI,KAAK,SAAS;;;;;;0BACnB,8OAAC;0BACE,KAAK,SAAS,EAAE,IAAI,CAAC,GAAG,kBACvB,8OAAC;kCAAY,EAAE,QAAQ;uBAAd;;;;;;;;;;;;;;;;AAKnB","debugId":null}}]
}