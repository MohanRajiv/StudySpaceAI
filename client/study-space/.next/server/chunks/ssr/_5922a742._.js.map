{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/todo.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport TodoModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getTodos() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const todos = await TodoModel.find({ clerkId: userId }).lean();\n\n        const cleanTodos = todos.map(todo => ({\n            ...todo,\n            _id: todo._id.toString(),\n        }));\n\n        return cleanTodos;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createTodo(text){\n    const { userId } = await auth();\n    const todo = await TodoModel.create({clerkId: userId, message: text});\n    console.log(todo);\n    revalidatePath(\"/\");\n}\n\nexport async function deleteTodo(id){\n    await TodoModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateTodo(id, newText){\n    await TodoModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {message: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IA6BsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/create-quiz.js"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { createTodo } from \"@/actions/todo.action\";\n\nexport default function CreateTodo() {\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const file = e.target[0].files[0];\n    if (!file) return alert(\"Please upload a PDF file\");\n\n    try {\n      setLoading(true);\n\n      const formData = new FormData();\n    formData.append(\"file\", file);\n  \n    const res = await fetch(\"/api/parse-pdf\", {\n      method: \"POST\",\n      body: formData,\n    });\n  \n    const data = await res.json();\n    const extractedText = data.text || \"\";\n\n    const quizRes = await fetch(\"/api/gemini-route\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" }, \n      body: JSON.stringify({ text: extractedText }),\n    });\n    \n    const quizData = await quizRes.json();\n    setText(quizData.text || \"\"); \n\n    await createTodo(quizData.text);\n    }\n    catch (error){\n      console.log(error);\n    }\n    finally {\n      setLoading(false);\n    }\n  };  \n\n  return (\n    <div>\n      <div>Create Todo</div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"file\" className=\"formInput\" />\n        <button className=\"formButton\" disabled={loading}>\n          {loading ? \"Processing...\": \"Submit PDF\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,OAAO,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;QACjC,IAAI,CAAC,MAAM,OAAO,MAAM;QAExB,IAAI;YACF,WAAW;YAEX,MAAM,WAAW,IAAI;YACvB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,MAAM,MAAM,MAAM,kBAAkB;gBACxC,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,gBAAgB,KAAK,IAAI,IAAI;YAEnC,MAAM,UAAU,MAAM,MAAM,qBAAqB;gBAC/C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,MAAM;gBAAc;YAC7C;YAEA,MAAM,WAAW,MAAM,QAAQ,IAAI;YACnC,QAAQ,SAAS,IAAI,IAAI;YAEzB,MAAM,IAAA,6JAAU,EAAC,SAAS,IAAI;QAC9B,EACA,OAAO,OAAM;YACX,QAAQ,GAAG,CAAC;QACd,SACQ;YACN,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;0BAAI;;;;;;0BACL,8OAAC;gBAAK,UAAU;;kCACd,8OAAC;wBAAM,MAAK;wBAAO,WAAU;;;;;;kCAC7B,8OAAC;wBAAO,WAAU;wBAAa,UAAU;kCACtC,UAAU,kBAAiB;;;;;;;;;;;;;;;;;;AAKtC","debugId":null}}]
}