{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/api/parse-pdf/route.js"],"sourcesContent":["import { createRequire } from \"module\";\nconst require = createRequire(import.meta.url);\n\nexport async function POST(req) {\n  try {\n    // Fix 1: Import pdf-parse correctly\n    const pdfModule = require(\"pdf-parse\");\n    // This safely gets the function regardless of module style\n    const pdf = typeof pdfModule === \"function\" ? pdfModule : pdfModule.default;\n\n    const data = await req.formData();\n    const file = data.get(\"file\");\n\n    if (!file) {\n      return new Response(JSON.stringify({ error: \"No file uploaded\" }), {\n        status: 400,\n      });\n    }\n\n    // Fix 2: Ensure Buffer is imported if needed (might be required in some setups)\n    // import { Buffer } from \"buffer\"; // Uncomment if needed\n\n    const buffer = Buffer.from(await file.arrayBuffer());\n    const result = await pdf(buffer);\n\n    return new Response(JSON.stringify({ text: result.text }), {\n      status: 200,\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  } catch (error) {\n    console.error(\"Error parsing PDF:\", error);\n    return new Response(JSON.stringify({ error: \"Failed to parse PDF\" }), {\n      status: 500,\n    });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;;AACA,MAAM,UAAU,IAAA,sHAAa,EAAC,8BAAY,GAAG;AAEtC,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,oCAAoC;QACpC,MAAM,YAAY,QAAQ;QAC1B,2DAA2D;QAC3D,MAAM,MAAM,OAAO,cAAc,aAAa,YAAY,UAAU,OAAO;QAE3E,MAAM,OAAO,MAAM,IAAI,QAAQ;QAC/B,MAAM,OAAO,KAAK,GAAG,CAAC;QAEtB,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAmB,IAAI;gBACjE,QAAQ;YACV;QACF;QAEA,gFAAgF;QAChF,0DAA0D;QAE1D,MAAM,SAAS,OAAO,IAAI,CAAC,MAAM,KAAK,WAAW;QACjD,MAAM,SAAS,MAAM,IAAI;QAEzB,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,MAAM,OAAO,IAAI;QAAC,IAAI;YACzD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAsB,IAAI;YACpE,QAAQ;QACV;IACF;AACF","debugId":null}}]
}