{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentQuiz(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await QuizModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndexes: q.correctAnswer,\n      questionType: q.questionType,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n      quizType: quizData.questions[0]?.quizType || \"Untitled Option\",\n      timerSeconds: quizData.timerSeconds,\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAwCsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/flashcard.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport { revalidatePath } from \"next/cache\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport FlashcardModel from \"@/modals/flashcard.modal\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getFlashcards() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const flashcards = await FlashcardModel.find({ clerkId: userId }).lean();\n\n        const cleanFlashcards = flashcards.map(flashcard => ({\n            ...flashcard,\n            _id: flashcard._id.toString(),\n        }));\n        \n        return cleanFlashcards;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentFlashcard(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await FlashcardModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createFlashcard(flashcardData) {\n    const { userId } = await auth();\n  \n    await FlashcardModel.create({\n      clerkId: userId,\n      flashcardTitle: flashcardData.questions[0]?.flashcardTitle || \"Untitled Flashcard Set\",\n      questions: flashcardData.questions[0]?.questions,\n      answers: flashcardData.questions[0]?.answers,\n      quizType: flashcardData.questions[0]?.quizType || \"Untitled Option\",\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteFlashcard(id){\n    await FlashcardModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateFlashcard(id, newText){\n    await FlashcardModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {flashcardTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAuCsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentQuiz(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await QuizModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndexes: q.correctAnswer,\n      questionType: q.questionType,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n      quizType: quizData.questions[0]?.quizType || \"Untitled Option\",\n      timerSeconds: quizData.timerSeconds,\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IA8DsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentQuiz(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await QuizModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndexes: q.correctAnswer,\n      questionType: q.questionType,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n      quizType: quizData.questions[0]?.quizType || \"Untitled Option\",\n      timerSeconds: quizData.timerSeconds,\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAmEsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/quiz.js"],"sourcesContent":["\"use client\"\nimport { useState } from \"react\"\nimport { deleteQuiz, updateQuiz } from \"@/actions/quiz.action\";\nimport Link from \"next/link\";\nimport { FaBook } from \"react-icons/fa6\";\n\nexport default function Quiz({ text, id }) {\n    const [showUpdateInput, setShowUpdateInput] = useState(false);\n    const [newText, setNewText] = useState(text);\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        updateQuiz(id, newText);\n        setShowUpdateInput(false);\n    };\n\n    return (\n        <div className=\"history-quiz-item\">\n            {/* Top section: optional image or icon */}\n            <div className=\"quiz-top\">\n                <div className=\"quiz-top-icon\">\n                    <FaBook \n                        size={50}\n                    />\n                </div>\n            </div>\n\n            {/* Bottom section: black background with text and buttons */}\n            <div className=\"quiz-bottom\">\n                <Link key={id} href={`quizPage?quiz_id=${id}`} className=\"quizHover\">\n                    {text}\n                </Link>\n\n                {showUpdateInput && (\n                    <input\n                        value={newText}\n                        onChange={(e) => setNewText(e.target.value)}\n                        type=\"text\"\n                        className=\"formInput\"\n                    />\n                )}\n\n                <div className=\"quiz-buttons\">\n                    {showUpdateInput ? (\n                        <>\n                            <button onClick={() => setShowUpdateInput(false)}>\n                                Cancel\n                            </button>\n                            <button onClick={handleUpdate}>\n                                Save\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <button onClick={() => deleteQuiz(id)}>\n                                Delete\n                            </button>\n                            <button onClick={() => setShowUpdateInput(true)}>\n                                Update\n                            </button>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS,KAAK,KAAY;QAAZ,EAAE,IAAI,EAAE,EAAE,EAAE,GAAZ;;IACzB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,IAAA,gKAAU,EAAC,IAAI;QACf,mBAAmB;IACvB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,4JAAM;wBACH,MAAM;;;;;;;;;;;;;;;;0BAMlB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,0KAAI;wBAAU,MAAM,AAAC,oBAAsB,OAAH;wBAAM,WAAU;kCACpD;uBADM;;;;;oBAIV,iCACG,6LAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,MAAK;wBACL,WAAU;;;;;;kCAIlB,6LAAC;wBAAI,WAAU;kCACV,gCACG;;8CACI,6LAAC;oCAAO,SAAS,IAAM,mBAAmB;8CAAQ;;;;;;8CAGlD,6LAAC;oCAAO,SAAS;8CAAc;;;;;;;yDAKnC;;8CACI,6LAAC;oCAAO,SAAS,IAAM,IAAA,gKAAU,EAAC;8CAAK;;;;;;8CAGvC,6LAAC;oCAAO,SAAS,IAAM,mBAAmB;8CAAO;;;;;;;;;;;;;;;;;;;;;;;;;AAS7E;GA5DwB;KAAA","debugId":null}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/flashcard.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport { revalidatePath } from \"next/cache\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport FlashcardModel from \"@/modals/flashcard.modal\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getFlashcards() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const flashcards = await FlashcardModel.find({ clerkId: userId }).lean();\n\n        const cleanFlashcards = flashcards.map(flashcard => ({\n            ...flashcard,\n            _id: flashcard._id.toString(),\n        }));\n        \n        return cleanFlashcards;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentFlashcard(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await FlashcardModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createFlashcard(flashcardData) {\n    const { userId } = await auth();\n  \n    await FlashcardModel.create({\n      clerkId: userId,\n      flashcardTitle: flashcardData.questions[0]?.flashcardTitle || \"Untitled Flashcard Set\",\n      questions: flashcardData.questions[0]?.questions,\n      answers: flashcardData.questions[0]?.answers,\n      quizType: flashcardData.questions[0]?.quizType || \"Untitled Option\",\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteFlashcard(id){\n    await FlashcardModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateFlashcard(id, newText){\n    await FlashcardModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {flashcardTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAqDsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/flashcard.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport { revalidatePath } from \"next/cache\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport FlashcardModel from \"@/modals/flashcard.modal\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getFlashcards() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const flashcards = await FlashcardModel.find({ clerkId: userId }).lean();\n\n        const cleanFlashcards = flashcards.map(flashcard => ({\n            ...flashcard,\n            _id: flashcard._id.toString(),\n        }));\n        \n        return cleanFlashcards;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentFlashcard(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await FlashcardModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createFlashcard(flashcardData) {\n    const { userId } = await auth();\n  \n    await FlashcardModel.create({\n      clerkId: userId,\n      flashcardTitle: flashcardData.questions[0]?.flashcardTitle || \"Untitled Flashcard Set\",\n      questions: flashcardData.questions[0]?.questions,\n      answers: flashcardData.questions[0]?.answers,\n      quizType: flashcardData.questions[0]?.quizType || \"Untitled Option\",\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteFlashcard(id){\n    await FlashcardModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateFlashcard(id, newText){\n    await FlashcardModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {flashcardTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IA0DsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/flashcard.js"],"sourcesContent":["\"use client\"\nimport { useState } from \"react\"\nimport { deleteFlashcard, updateFlashcard } from \"@/actions/flashcard.action\";\nimport Link from \"next/link\";\nimport { PiCardsLight } from \"react-icons/pi\";\n\nexport default function Flashcard({text, id}) {\n    const [showUpdateInput, setShowUpdateInput] = useState(false);\n    const [newText, setNewText] = useState(text);\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        updateFlashcard(id, newText);\n        setShowUpdateInput(!showUpdateInput);\n    };\n\n    return (\n        <div className=\"history-quiz-item\">\n            <div className=\"quiz-top\">\n                <div className=\"quiz-top-icon\">\n                    <PiCardsLight \n                        size={50}\n                    />\n                </div>\n            </div>\n\n\n            <div className=\"quiz-bottom\">\n                <Link key={id} href={`flashcardPage?flashcard_id=${id}`} className=\"quizHover\">\n                    {text}\n                </Link>\n\n                {showUpdateInput && (\n                    <input\n                        value={newText}\n                        onChange={(e) => setNewText(e.target.value)}\n                        type=\"text\"\n                        className=\"formInput\"\n                    />\n                )}\n\n                <div className=\"quiz-buttons\">\n                {showUpdateInput ? (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Cancel\n                    </button>\n                ) : (\n                    <button onClick={() => deleteFlashcard(id)}>\n                        Delete\n                    </button>\n                )}\n\n                {showUpdateInput ? (\n                    <button onClick={handleUpdate}>\n                        Save\n                    </button>\n                ) : (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Update\n                    </button>\n                )}\n                </div>\n            </div>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS,UAAU,KAAU;QAAV,EAAC,IAAI,EAAE,EAAE,EAAC,GAAV;;IAC9B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,IAAA,qKAAe,EAAC,IAAI;QACpB,mBAAmB,CAAC;IACxB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,iKAAY;wBACT,MAAM;;;;;;;;;;;;;;;;0BAMlB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,0KAAI;wBAAU,MAAM,AAAC,8BAAgC,OAAH;wBAAM,WAAU;kCAC9D;uBADM;;;;;oBAIV,iCACG,6LAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,MAAK;wBACL,WAAU;;;;;;kCAIlB,6LAAC;wBAAI,WAAU;;4BACd,gCACG,6LAAC;gCAAO,SAAS,IAAM,mBAAmB,CAAC;0CAAkB;;;;;qDAI7D,6LAAC;gCAAO,SAAS,IAAM,IAAA,qKAAe,EAAC;0CAAK;;;;;;4BAK/C,gCACG,6LAAC;gCAAO,SAAS;0CAAc;;;;;qDAI/B,6LAAC;gCAAO,SAAS,IAAM,mBAAmB,CAAC;0CAAkB;;;;;;;;;;;;;;;;;;;;;;;;AAQjF;GA3DwB;KAAA","debugId":null}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/google-drive-icon.js"],"sourcesContent":["export const GoogleDriveIcon = ({ size = 24, ...props }) => {\n  return (\n    <img\n      src=\"/google-drive-icon.png\"\n      alt=\"Google Drive\"\n      width={size}\n      height={size}\n      style={{ display: 'inline-block', verticalAlign: 'middle', ...props.style }}\n      {...props}\n    />\n  );\n};\n\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,kBAAkB;QAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO;IACrD,qBACE,6LAAC;QACC,KAAI;QACJ,KAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;YAAE,SAAS;YAAgB,eAAe;YAAU,GAAG,MAAM,KAAK;QAAC;QACzE,GAAG,KAAK;;;;;;AAGf;KAXa","debugId":null}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/google-drive-picker.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useAuth } from \"@clerk/nextjs\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { GoogleDriveIcon } from \"./google-drive-icon\";\n\n// Export a function to open the picker that can be called from parent\nlet openPickerFunction = null;\n\nexport const GoogleDrivePicker = ({ onFilesSelected, selectedDriveFiles, onRemoveFile, autoOpen = false, showButton = true, onBeforeConnect }) => {\n  const { userId } = useAuth();\n  const [isConnected, setIsConnected] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [pickerLoaded, setPickerLoaded] = useState(false);\n  const pickerInitialized = useRef(false);\n\n  useEffect(() => {\n    checkConnectionStatus();\n    loadPickerAPI();\n  }, []);\n\n  // Auto-open picker if autoOpen is true and connected\n  useEffect(() => {\n    if (autoOpen && isConnected && pickerLoaded) {\n      // Wait a bit for everything to be ready\n      const timer = setTimeout(() => {\n        handleOpenPicker();\n      }, 300);\n      return () => clearTimeout(timer);\n    }\n  }, [autoOpen, isConnected, pickerLoaded]);\n\n  const loadPickerAPI = () => {\n    if (typeof window !== 'undefined' && window.gapi && window.google) {\n      window.gapi.load('picker', () => {\n        setPickerLoaded(true);\n      });\n    } else if (typeof window !== 'undefined') {\n      // Wait for gapi to be available\n      const checkGAPI = setInterval(() => {\n        if (window.gapi && window.google) {\n          window.gapi.load('picker', () => {\n            setPickerLoaded(true);\n          });\n          clearInterval(checkGAPI);\n        }\n      }, 100);\n\n      // Cleanup after 10 seconds if still not loaded\n      setTimeout(() => clearInterval(checkGAPI), 10000);\n    }\n  };\n\n  const checkConnectionStatus = async () => {\n    try {\n      const res = await fetch(\"/api/google-drive/files?pageSize=1\");\n      if (res.ok) {\n        setIsConnected(true);\n      } else if (res.status === 400) {\n        // Expected when not connected - silently set to false\n        setIsConnected(false);\n      }\n    } catch (error) {\n      // Network errors - silently set to false\n      setIsConnected(false);\n    }\n  };\n\n  const handleConnect = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      \n      // Save current page state before redirecting (if callback provided)\n      if (onBeforeConnect && typeof onBeforeConnect === 'function') {\n        onBeforeConnect();\n      }\n      \n      const res = await fetch(\"/api/google-drive/auth\");\n      const data = await res.json();\n      \n      if (!res.ok) {\n        throw new Error(data.error || \"Failed to connect to Google Drive\");\n      }\n      \n      if (data.authUrl) {\n        window.location.href = data.authUrl;\n      } else {\n        throw new Error(\"No authorization URL received\");\n      }\n    } catch (error) {\n      console.error(\"Error connecting to Google Drive:\", error);\n      alert(error.message || \"Failed to connect to Google Drive. Please check your environment configuration.\");\n      setIsLoading(false);\n    }\n  }, [onBeforeConnect]);\n\n  const pickerCallback = useCallback(async (data) => {\n    if (data[window.google.picker.Response.ACTION] === window.google.picker.Action.PICKED) {\n      const docs = data[window.google.picker.Response.DOCUMENTS];\n      \n      if (docs && docs.length > 0) {\n        // Handle each selected file\n        for (const doc of docs) {\n          try {\n            // Download the file\n            const res = await fetch(\"/api/google-drive/download\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({ fileId: doc.id }),\n            });\n\n            if (!res.ok) {\n              if (res.status === 401) {\n                setIsConnected(false);\n                alert(\"Google Drive connection expired. Please reconnect.\");\n                return;\n              }\n              throw new Error(\"Failed to download file\");\n            }\n\n            const fileData = await res.json();\n            \n            // Convert base64 to blob\n            const binaryString = atob(fileData.fileData);\n            const bytes = new Uint8Array(binaryString.length);\n            for (let i = 0; i < binaryString.length; i++) {\n              bytes[i] = binaryString.charCodeAt(i);\n            }\n            const blob = new Blob([bytes], { type: fileData.mimeType });\n            \n            // Create a File object from the blob\n            const downloadedFile = new File([blob], fileData.fileName, { type: fileData.mimeType });\n            \n            // Add drive file metadata\n            downloadedFile.driveId = doc.id;\n            downloadedFile.driveName = doc.name;\n            downloadedFile.driveMimeType = doc.mimeType;\n\n            onFilesSelected(downloadedFile);\n          } catch (error) {\n            console.error(\"Error processing selected file:\", error);\n            alert(`Failed to process file: ${doc.name}`);\n          }\n        }\n      }\n    } else if (data[window.google.picker.Response.ACTION] === window.google.picker.Action.CANCEL) {\n      // User cancelled the picker\n      console.log(\"User cancelled Google Drive picker\");\n    }\n  }, [onFilesSelected]);\n\n  const handleOpenPicker = useCallback(async () => {\n    try {\n      setIsLoading(true);\n\n      // Get access token and client ID - this will tell us if connected\n      const tokenRes = await fetch(\"/api/google-drive/picker-token\");\n      \n      if (tokenRes.status === 401 || tokenRes.status === 400) {\n        setIsConnected(false);\n        // Instead of alert, trigger the connect flow\n        handleConnect();\n        setIsLoading(false);\n        return;\n      }\n\n      if (!tokenRes.ok) {\n        throw new Error(\"Failed to get access token\");\n      }\n\n      const { accessToken, clientId } = await tokenRes.json();\n\n      if (!window.gapi || !window.google || !pickerLoaded) {\n        throw new Error(\"Google Picker API not loaded\");\n      }\n\n      // Create a view for PDF files only\n      const docsView = new window.google.picker.DocsView()\n        .setMimeTypes('application/pdf')\n        .setIncludeFolders(false);\n\n      // Create and show the picker\n      const picker = new window.google.picker.PickerBuilder()\n        .addView(docsView)\n        .setOAuthToken(accessToken)\n        .setCallback(pickerCallback)\n        .setOrigin(window.location.origin)\n        .setSize(window.innerWidth > 600 ? 1024 : window.innerWidth - 20, window.innerHeight - 100)\n        .build();\n\n      picker.setVisible(true);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error opening picker:\", error);\n      alert(\"Failed to open Google Drive picker. Please try again.\");\n      setIsLoading(false);\n    }\n  }, [pickerLoaded, pickerCallback, isConnected, handleConnect]);\n\n  // Expose the open picker function globally so it can be called from anywhere\n  // Always expose it, so clicking the icon works even when not connected (will trigger connect flow)\n  useEffect(() => {\n    openPickerFunction = handleOpenPicker;\n    window.openGoogleDrivePicker = handleOpenPicker;\n    return () => {\n      openPickerFunction = null;\n      if (window.openGoogleDrivePicker) {\n        delete window.openGoogleDrivePicker;\n      }\n    };\n  }, [handleOpenPicker]);\n\n  // Don't render anything if showButton is false (for when we just want to expose the function)\n  if (!showButton) {\n    return null;\n  }\n\n  if (!isConnected) {\n    return (\n      <div className=\"google-drive-connect\">\n        <button\n          onClick={handleConnect}\n          disabled={isLoading}\n          className=\"google-drive-connect-btn\"\n        >\n          <GoogleDriveIcon size={20} />\n          {isLoading ? \"Connecting...\" : \"Connect Google Drive\"}\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"google-drive-picker-container\">\n      <button\n        onClick={handleOpenPicker}\n        disabled={isLoading || !pickerLoaded}\n        className=\"google-drive-open-btn\"\n      >\n        <GoogleDriveIcon size={20} />\n        {isLoading ? \"Opening...\" : pickerLoaded ? \"Select from Google Drive\" : \"Loading...\"}\n      </button>\n      \n      {selectedDriveFiles.length > 0 && (\n        <div className=\"selected-drive-files\">\n          {selectedDriveFiles.map((file, index) => (\n            <div key={index} className=\"selected-drive-file-item\">\n              <GoogleDriveIcon size={16} />\n              <span>{file.driveName || file.name}</span>\n              <button\n                type=\"button\"\n                onClick={() => onRemoveFile(index)}\n                className=\"remove-drive-file-btn\"\n              >\n                <FaTimes size={12} />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Export a hook to get the open picker function\nexport const useGoogleDrivePicker = () => {\n  return () => {\n    if (openPickerFunction) {\n      openPickerFunction();\n    } else {\n      console.error(\"Google Drive Picker not ready. Make sure GoogleDrivePicker component is mounted.\");\n    }\n  };\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/google-drive-picker-button.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { GoogleDrivePicker } from \"./google-drive-picker\";\nimport { GoogleDriveIcon } from \"./google-drive-icon\";\n\nexport const GoogleDrivePickerButton = ({ onFileSelected, onBeforeConnect }) => {\n  const [openPicker, setOpenPicker] = useState(null);\n\n  useEffect(() => {\n    // This will be set by the GoogleDrivePicker component\n    const checkPicker = setInterval(() => {\n      if (window.openGoogleDrivePicker) {\n        setOpenPicker(() => window.openGoogleDrivePicker);\n        clearInterval(checkPicker);\n      }\n    }, 100);\n\n    return () => clearInterval(checkPicker);\n  }, []);\n\n  return (\n    <>\n      {/* Hidden picker component to initialize */}\n      <div style={{ display: 'none' }}>\n        <GoogleDrivePicker\n          onFilesSelected={onFileSelected}\n          selectedDriveFiles={[]}\n          onRemoveFile={() => {}}\n          showButton={false}\n          onBeforeConnect={onBeforeConnect}\n        />\n      </div>\n      <button\n        type=\"button\"\n        onClick={() => {\n          if (openPicker) {\n            openPicker();\n          } else if (window.openGoogleDrivePicker) {\n            window.openGoogleDrivePicker();\n          } else {\n            alert(\"Google Drive picker is loading. Please wait a moment and try again.\");\n          }\n        }}\n        style={{ \n          cursor: 'pointer', \n          marginLeft: '8px',\n          background: 'none',\n          border: 'none',\n          padding: 0,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n        title=\"Add from Google Drive\"\n      >\n        <GoogleDriveIcon size={24} />\n      </button>\n    </>\n  );\n};\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKO,MAAM,0BAA0B;QAAC,EAAE,cAAc,EAAE,eAAe,EAAE;;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAA,0KAAS;6CAAC;YACR,sDAAsD;YACtD,MAAM,cAAc;iEAAY;oBAC9B,IAAI,OAAO,qBAAqB,EAAE;wBAChC;6EAAc,IAAM,OAAO,qBAAqB;;wBAChD,cAAc;oBAChB;gBACF;gEAAG;YAEH;qDAAO,IAAM,cAAc;;QAC7B;4CAAG,EAAE;IAEL,qBACE;;0BAEE,6LAAC;gBAAI,OAAO;oBAAE,SAAS;gBAAO;0BAC5B,cAAA,6LAAC,sKAAiB;oBAChB,iBAAiB;oBACjB,oBAAoB,EAAE;oBACtB,cAAc,KAAO;oBACrB,YAAY;oBACZ,iBAAiB;;;;;;;;;;;0BAGrB,6LAAC;gBACC,MAAK;gBACL,SAAS;oBACP,IAAI,YAAY;wBACd;oBACF,OAAO,IAAI,OAAO,qBAAqB,EAAE;wBACvC,OAAO,qBAAqB;oBAC9B,OAAO;wBACL,MAAM;oBACR;gBACF;gBACA,OAAO;oBACL,QAAQ;oBACR,YAAY;oBACZ,YAAY;oBACZ,QAAQ;oBACR,SAAS;oBACT,SAAS;oBACT,YAAY;oBACZ,gBAAgB;gBAClB;gBACA,OAAM;0BAEN,cAAA,6LAAC,kKAAe;oBAAC,MAAM;;;;;;;;;;;;;AAI/B;GAtDa;KAAA","debugId":null}},
    {"offset": {"line": 878, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/create/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { createQuiz } from \"@/actions/quiz.action\";\nimport { createFlashcard } from \"@/actions/flashcard.action\";\nimport Quiz from \"../components/quiz\";\n// Icons\nimport { BsArrowUpCircleFill } from \"react-icons/bs\";\nimport { SiYoutube } from \"react-icons/si\";\nimport { IoTrashSharp } from \"react-icons/io5\";\nimport { GrAdd } from \"react-icons/gr\";\nimport {FaTimes } from \"react-icons/fa\";\nimport { HiCheck } from \"react-icons/hi\";\nimport Flashcard from \"../components/flashcard\";\nimport { GoogleDriveIcon } from \"../components/google-drive-icon\";\nimport { GoogleDrivePicker } from \"../components/google-drive-picker\";\nimport { GoogleDrivePickerButton } from \"../components/google-drive-picker-button\";\n\nexport default function CreateQuiz() {\n  const searchParams = useSearchParams();\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [number, setNumber] = useState(\"\");\n  const [numberCounts, setNumberCounts] = useState([]);\n  const [textValue, setTextValue] = useState(\"\");\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\n  const [youtubeUrls, setYoutubeUrls] = useState([]);\n  const [quizType, setQuizType] = useState(\"\");\n  const [numberType, setNumberType] = useState(\"\");\n  const [timerType, setTimerType] = useState(\"\");\n  const [questionType, setQuestionType] = useState(\"\");\n  const [pdfFiles, setPdfFiles] = useState([]);\n  const [driveFiles, setDriveFiles] = useState([]);\n  const [showGoogleDrivePicker, setShowGoogleDrivePicker] = useState(false);\n  const [dropdownVisible, setDropdownVisible] = useState(false);\n  const [YoutubeBarVisible, setYoutubeBarVisible] = useState(false);\n  const [YoutubeVideoDisplay, setYoutubeVideoDisplay] = useState(false);\n  const [recentQuiz, setRecentQuiz] = useState(null);\n  const [recentFlashcard, setRecentFlashcard] = useState(null);\n  const [questionTypes, setQuestionTypes] = useState([]);\n  const [hours, setHours] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n  const pdfPickerRef = useRef(null);\n\n  // Save state to localStorage before OAuth redirect\n  const savePageState = () => {\n    if (typeof window !== 'undefined') {\n      const state = {\n        quizType,\n        numberType,\n        questionTypes,\n        questionType,\n        number,\n        numberCounts,\n        text,\n        textValue,\n        youtubeUrl,\n        youtubeUrls,\n        pdfFiles: pdfFiles.map(f => ({ name: f.name, size: f.size, type: f.type })),\n        driveFiles: driveFiles.map(f => ({ name: f.name || f.driveName, size: f.size })),\n      };\n      localStorage.setItem('createPageState', JSON.stringify(state));\n    }\n  };\n\n  // Restore state from localStorage after OAuth callback\n  useEffect(() => {\n    const googleDriveParam = searchParams.get(\"google_drive\");\n    if (googleDriveParam === \"connected\") {\n      // Restore saved state\n      if (typeof window !== 'undefined') {\n        const savedState = localStorage.getItem('createPageState');\n        if (savedState) {\n          try {\n            const state = JSON.parse(savedState);\n            if (state.quizType) setQuizType(state.quizType);\n            if (state.numberType) setNumberType(state.numberType);\n            if (state.questionTypes?.length) setQuestionTypes(state.questionTypes);\n            if (state.questionType) setQuestionType(state.questionType);\n            if (state.number) setNumber(state.number);\n            if (state.numberCounts?.length) setNumberCounts(state.numberCounts);\n            if (state.text) setText(state.text);\n            if (state.textValue) setTextValue(state.textValue);\n            if (state.youtubeUrl) setYoutubeUrl(state.youtubeUrl);\n            if (state.youtubeUrls?.length) setYoutubeUrls(state.youtubeUrls);\n            // Note: pdfFiles and driveFiles can't be fully restored (File objects), but names are preserved\n            localStorage.removeItem('createPageState');\n          } catch (error) {\n            console.error(\"Error restoring page state:\", error);\n          }\n        }\n      }\n      setShowGoogleDrivePicker(true);\n      // Clean up URL by removing the query parameter\n      const url = new URL(window.location.href);\n      url.searchParams.delete(\"google_drive\");\n      window.history.replaceState({}, \"\", url);\n    }\n  }, [searchParams]);\n\n  const fetchRecentQuiz = async () => {\n    try {\n      const res = await fetch(\"/api/get-recent-quiz\");\n      const data = await res.json();\n      console.log(\"Recent Quiz (API Response):\", data);\n      setRecentQuiz(data);\n      setPdfFiles([]);\n      setDriveFiles([]);\n      setYoutubeUrls([]);\n      setTextValue([]);\n      setQuizType(\"\");\n    } catch (err) {\n      console.error(\"Error fetching recent quiz:\", err);\n    }\n  };\n\n  const fetchRecentFlashcard = async () => {\n    try {\n      const res = await fetch(\"/api/get-recent-flashcard\");\n      const data = await res.json();\n      console.log(\"Recent Flashcard (API Response):\", data);\n      setRecentFlashcard(data);\n      setPdfFiles([]);\n      setDriveFiles([]);\n      setYoutubeUrls([]);\n      setTextValue([]);\n      setQuizType(\"\");\n    } catch (err) {\n      console.error(\"Error fetching recent quiz:\", err);\n    }\n  };\n\n  const buildTotalSeconds = () => {\n    return hours * 3600 + minutes * 60 + seconds;\n  };\n\n  const toggleQuestionType = (type) => {\n    setQuestionTypes(prev => {\n      if (prev.includes(type)) {\n        if (numberType == \"Multiple Number\"){\n          const index = prev.indexOf(type);\n          setNumberCounts(nums => nums.filter((_, i) => i !== index));\n        }\n        return prev.filter(t => t !== type);\n      } else {\n        if (numberType == \"Multiple Number\"){\n          setNumberCounts(nums => [...nums, \"\"]);\n        }\n        if (numberType == \"Single Number\"){\n          setNumberCounts([\"\"]);\n        }\n        return [...prev, type];\n      }\n    });\n  };\n\n  const setNumberCount = (index, value) => {\n    if (numberType == \"Single Number\"){\n      setNumberCounts([value]);\n    }\n    if (numberType == \"Multiple Number\"){\n      setNumberCounts(prev => {\n        const updated = [...prev];\n        updated[index] = value;\n        return updated;\n      });\n    }\n  }\n\n  const toggleDropdown = () => {\n    setDropdownVisible(!dropdownVisible);\n  };\n\n  const addYoutubeUrl = () => {\n    const url = youtubeUrl.trim();\n    if (!url) {\n      alert(\"Please enter a YouTube URL.\");\n      return;\n    }\n  \n    if (youtubeUrls.includes(url)) {\n      alert(\"This YouTube link was already added.\");\n      return;\n    }\n  \n    setYoutubeUrls((prev) => [...prev, url]);\n  \n    toggleYoutubeDisplay(url);\n  \n    setYoutubeUrl(\"\");\n  };  \n\n  const toggleYoutubeBar = () => {\n    if (!YoutubeBarVisible) {\n      setYoutubeBarVisible(true);\n      setDropdownVisible(false);\n    } else {\n      setYoutubeBarVisible(false);\n    }\n  };\n\n  const deleteYoutubeBar = () => {\n    setYoutubeUrl(\"\");\n    setYoutubeBarVisible(false);\n  };\n\n  const toggleYoutubeDisplay = (value) => {\n    if (!value.trim()) {\n      alert(\"Please enter a YouTube URL.\");\n      return;\n    }\n    setYoutubeUrl(value);\n    setYoutubeVideoDisplay(true);\n    setYoutubeBarVisible(false);\n  }\n\n  const extractYouTubeId = (url) => {\n    try {\n      const match = url.match(/(?:v=|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/);\n      return match ? match[1] : null;\n    } catch {\n      return null;\n    }\n  };  \n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!quizType) {\n      alert(\"Please select a quiz type to generate a quiz.\");\n      return;\n    }\n\n    if (questionTypes.length == 0) {\n      alert(\"Please select an question type to generate a quiz.\");\n      return;\n    }\n\n    if (numberCounts.length == 0) {\n      alert(\"Please select a number of questions/flashcards to generate a quiz.\");\n      return;\n    }\n\n    try {\n        setLoading(true);\n        let combinedText = \"\";\n        // Combine regular files and Drive files\n        const allFiles = [...pdfFiles, ...driveFiles];\n\n        if (allFiles.length === 0 && !textValue.trim() && youtubeUrls.length == 0) {\n          alert(\"Please enter an input.\");\n          setLoading(false);\n          return;\n        }\n\n        if (allFiles.length !== 0) {\n          for (const file of allFiles) {\n            // Check if file has type property and if it's a video\n            // Google Drive files are always PDFs, so handle them accordingly\n            const fileType = file.type || file.driveMimeType || \"application/pdf\";\n            \n            if (fileType && fileType.startsWith(\"video/\")) {\n              const formData = new FormData();\n              formData.append(\"file\", file);\n\n              const res = await fetch(\"/api/mp4-route\", {\n                method: \"POST\",\n                body: formData,\n              });\n\n              if (!res.ok) {\n                const errorData = await res.json();\n                throw new Error(errorData.error || \"Failed to upload video\");\n              }\n\n              const data = await res.json();\n              uploadedVideoUri = data.fileUri;\n              uploadedVideoMimeType = data.mimeType;\n            } else {\n              // All other files (PDFs from regular upload or Google Drive) go to parse-pdf\n              const formData = new FormData();\n              formData.append(\"file\", file);\n          \n              const res = await fetch(\"/api/parse-pdf\", {\n                method: \"POST\",\n                body: formData,\n              });\n\n              if (!res.ok) {\n                const errorData = await res.json().catch(() => ({ error: \"Failed to parse PDF\" }));\n                throw new Error(errorData.error || \"Failed to parse PDF file\");\n              }\n          \n              const data = await res.json().catch((err) => {\n                console.error(\"Error parsing parse-pdf response:\", err);\n                throw new Error(\"Invalid response from PDF parser\");\n              });\n\n              if (!data || typeof data !== 'object') {\n                throw new Error(\"Invalid response format from PDF parser\");\n              }\n\n              combinedText += \"\\n\" + (data.text || \"\");\n            }\n          }\n        }\n\n        if (textValue.trim()) {\n          combinedText += \"\\n\" + textValue;\n        }\n\n        if (youtubeUrls.length != 0){\n          for (const url of youtubeUrls){\n            if (url.trim()){\n              const res = await fetch(\"/api/youtube-route\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url: url.trim() }),\n              });\n\n              if (!res.ok) {\n                const errorData = await res.json();\n                throw new Error(errorData.error || \"Failed to fetch YouTube transcript\");\n              }\n\n              const data = await res.json();\n              combinedText += \"\\n\" + (data.text || \"\");\n            }\n          }\n        }\n        \n      if (!combinedText.trim()) {\n        alert(\"No content extracted from files. Please ensure your PDF files contain readable text.\");\n        setLoading(false);\n        return;\n      }\n\n      const totalSeconds = buildTotalSeconds();\n\n      const quizRes = await fetch(\"/api/gemini-route\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          text: combinedText.trim(),\n          numOfQuestions: numberCounts,\n          quizType: quizType,\n          questionTypes: questionTypes,\n          timerSeconds: totalSeconds,\n        }),\n      });\n\n      if (!quizRes.ok) {\n        const errorData = await quizRes.json().catch(() => ({ error: \"Failed to generate quiz\" }));\n        throw new Error(errorData.error || \"Failed to generate quiz\");\n      }\n\n      const quizData = await quizRes.json().catch((err) => {\n        console.error(\"Error parsing gemini-route response:\", err);\n        throw new Error(\"Invalid response from quiz generator\");\n      });\n\n      let parsedQuiz;\n      try {\n        const textContent = quizData?.text || \"\";\n        if (!textContent) {\n            throw new Error(\"Empty response from AI\");\n        }\n        const cleanedText = textContent.replace(/```json/i, \"\").replace(/```/g, \"\").trim();\n        \n        if (!cleanedText) {\n          throw new Error(\"No JSON content found in AI response\");\n        }\n\n        parsedQuiz = JSON.parse(cleanedText);\n        parsedQuiz.timerSeconds = totalSeconds;\n      } catch (error) {\n        console.error(\"Error parsing quizData.text:\", error);\n        console.error(\"Raw response:\", quizData);\n        const textContent = quizData?.text || \"\";\n        const cleanedText = textContent.replace(/```json/i, \"\").replace(/```/g, \"\").trim();\n        console.error(\"Cleaned text:\", cleanedText);\n        alert(`Failed to parse quiz data: ${error.message}. The AI response may be incomplete or invalid.`);\n        setLoading(false);\n        return;\n      }\n\n      if (quizType === \"Flashcard\") {\n        setText(parsedQuiz.flashcardTitle || \"\");\n        await createFlashcard(parsedQuiz);\n      } else {\n        setText(parsedQuiz.quizTitle || \"\");\n        await createQuiz(parsedQuiz);\n      }\n\n      if (quizType === \"Flashcard\"){\n        await fetchRecentFlashcard();\n      } else {\n        await fetchRecentQuiz();\n      }\n    } catch (error) {\n      console.error(error);\n      alert(\"An error occurred while generating the quiz.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"file\"\n        accept=\"application/pdf\"\n        ref={pdfPickerRef}\n        style={{ display: \"none\" }}\n        multiple\n        onChange={(e) => {\n          const selected = Array.from(e.target.files);\n          const uniqueSelected = selected.filter(\n            (file) =>\n              !pdfFiles.some(\n                (existing) =>\n                  existing.name === file.name && existing.size === file.size\n              )\n          );\n        \n          if (uniqueSelected.length === 0) {\n            alert(\"These files were already added.\");\n            e.target.value = \"\";\n            return;\n          }\n        \n          setPdfFiles((prev) => [...prev, ...uniqueSelected]);\n          e.target.value = \"\";\n        }}\n      />\n\n      <div className=\"centerText\">\n        <div className=\"headerText\">\n          StudySpace.AI\n        </div>\n        <div className=\"secondaryHeaderText\">\n          Automatically generate interactive quizzes from Youtube Links, PDFs, \n         \n        </div>\n        <div className=\"secondaryHeaderText\">\n          or your own notes\n        </div>\n      </div>\n      \n\n      <div className=\"create-bar-container\">\n        <select\n          onChange={(e) => setQuizType(e.target.value)}\n          className=\"input-quiz-option-main\"\n          value={quizType}\n        >\n          <option value=\"\">-- Select a quiz type --</option>\n          <option value=\"Quiz\">Quiz</option>\n          <option value=\"Flashcard\">Flashcard Set</option>\n        </select>\n\n        {quizType == \"Quiz\" && (\n          <div className=\"checkbox-container\">\n            <button className=\"select-all\"\n              onClick={()=>setQuestionTypes([\"Multiple Choice\", \"True or False\", \"Multiple Answer\", \"Dropdown\"])}\n            >\n              Select All\n            </button>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"Multiple Choice\")}\n                onChange={() => toggleQuestionType(\"Multiple Choice\")}\n              />\n              Multiple Choice\n            </label>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"True or False\")}\n                onChange={() => toggleQuestionType(\"True or False\")}\n              />\n              True or False\n            </label>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"Multiple Answer\")}\n                onChange={() => toggleQuestionType(\"Multiple Answer\")}\n              />\n              Multiple Answer\n            </label>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"Dropdown\")}\n                onChange={() => toggleQuestionType(\"Dropdown\")}\n              />\n              Dropdown\n            </label>\n            <select\n              onChange={(e) => setNumberType(e.target.value)}\n              className=\"input-quiz-option-secondary-two\"\n              value={numberType}\n            >\n              <option value=\"\">- Number type -</option>\n              <option value=\"Single Number\">Single Number</option>\n              <option value=\"Multiple Number\">Multiple Number</option>\n            </select>\n            <select\n              onChange={(e) => setTimerType(e.target.value)}\n              className=\"input-quiz-option-secondary-two\"\n              value={timerType}\n            >\n              <option value=\"\">- Timer: None -</option>\n              <option value=\"Set Timer\">- Set Timer -</option>\n            </select>\n          </div>\n        )}\n\n        {quizType == \"Flashcard\" && (\n          <div className=\"checkbox-container\">\n            <button className=\"select-all\"\n              onClick={()=>setQuestionTypes([\"Definitions\", \"Questions\"])}\n            >\n              Select All\n            </button>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"Definitions\")}\n                onChange={() => toggleQuestionType(\"Definitions\")}\n              />\n              Definitions\n            </label>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={questionTypes.includes(\"Questions\")}\n                onChange={() => toggleQuestionType(\"Questions\")}\n              />\n              Questions\n            </label>\n            <select\n              onChange={(e) => setNumberType(e.target.value)}\n              className=\"input-quiz-option-secondary-two\"\n              value={numberType}\n            >\n              <option value=\"\">- Number type -</option>\n              <option value=\"Single Number\">Single Number</option>\n              <option value=\"Multiple Number\">Multiple Number</option>\n            </select>\n          </div>\n        )}\n\n        {quizType == \"Quiz\" && numberType==\"Single Number\" && (\n          <input\n            type=\"number\"\n            className=\"input-quiz-option-secondary-two\"\n            placeholder=\"# of questions\"\n            onChange={(e)=> setNumberCount(0, e.target.value)}\n            value={numberCounts[0] ?? \"\"}\n          />\n        )}\n\n        {quizType == \"Quiz\" && numberType==\"Multiple Number\" && questionTypes.length > 0 && (\n          questionTypes.map((type, index) => (\n            <div key={type}>\n              <label>{type}</label>\n              <input\n                type=\"number\"\n                className=\"input-quiz-option-secondary-two\"\n                placeholder=\"# of questions\"\n                onChange={(e)=> setNumberCount(index, e.target.value)}\n                value={numberCounts[index] ?? \"\"}\n              />\n            </div>\n          ))\n        )}\n\n        {quizType == \"Quiz\" && timerType == \"Set Timer\" && (\n          <div>\n            <label>Set Timer</label>\n<input\n      type=\"number\"\n      min=\"0\"\n      placeholder=\"Hours\"\n      value={hours}\n      onChange={e => setHours(Number(e.target.value))}\n      className=\"input-quiz-option-secondary-two\"\n    />\n\n    <input\n      type=\"number\"\n      min=\"0\"\n      max=\"59\"\n      placeholder=\"Minutes\"\n      value={minutes}\n      onChange={e => setMinutes(Number(e.target.value))}\n      className=\"input-quiz-option-secondary-two\"\n    />\n\n    <input\n      type=\"number\"\n      min=\"0\"\n      max=\"59\"\n      placeholder=\"Seconds\"\n      value={seconds}\n      onChange={e => setSeconds(Number(e.target.value))}\n      className=\"input-quiz-option-secondary-two\"\n    />\n          </div>\n        )}\n\n        {quizType == \"Flashcard\" && numberType==\"Single Number\" && (\n          <input\n            type=\"number\"\n            className=\"input-quiz-option-secondary-two\"\n            placeholder=\"# of flashcards\"\n            onChange={(e)=> setNumberCount(0, e.target.value)}\n            value={numberCounts[0] ?? \"\"}\n          />\n        )}\n\n        {quizType == \"Flashcard\" && numberType==\"Multiple Number\" && questionTypes.length > 0 && (\n          questionTypes.map((type, index) => (\n            <div key={type}>\n              <label>{type}</label>\n              <input\n                type=\"number\"\n                className=\"input-quiz-option-secondary-two\"\n                placeholder=\"# of flashcards\"\n                onChange={(e)=> setNumberCount(index, e.target.value)}\n                value={numberCounts[index] ?? \"\"}\n              />\n            </div>\n          ))\n        )}\n\n        {YoutubeBarVisible && (\n        <div className=\"youtube-bar-container\">\n          <div className=\"youtube-controls\">\n            <SiYoutube size={30} \n              color=\"red\"\n            />\n            <input \n              type=\"text\" \n              placeholder=\"Enter your YouTube URL here\" \n              value={youtubeUrl}\n              onChange={\n                (e) => setYoutubeUrl(e.target.value)\n              }\n              className=\"youtube-Bar\"\n            />\n            <IoTrashSharp size={35} onClick={deleteYoutubeBar} color=\"grey\"/>\n            <HiCheck size={40} onClick={addYoutubeUrl} color=\"grey\" />\n          </div>\n        </div>\n        )}\n      <div className=\"search-bar-container\">\n        {/* Render picker component (hidden, just to initialize the picker) */}\n        <div style={{ display: 'none' }}>\n          <GoogleDrivePicker\n            onFilesSelected={(file) => {\n              setDriveFiles(prev => [...prev, file]);\n              setShowGoogleDrivePicker(false);\n            }}\n            selectedDriveFiles={driveFiles}\n            onRemoveFile={(index) => {\n              setDriveFiles(prev => prev.filter((_, i) => i !== index));\n            }}\n            autoOpen={showGoogleDrivePicker}\n            showButton={false}\n            onBeforeConnect={savePageState}\n          />\n        </div>\n        <div className={`pdf-file-list ${pdfFiles.length > 0 || driveFiles.length > 0 || YoutubeVideoDisplay ? \"pdf-padding-bottom\" : \"\"}`}>\n          {pdfFiles.length > 0 && (\n            pdfFiles.map((file, i) => (\n            <div key={i} className=\"pdf-file-item\">\n              {file.name}\n              <button\n                type=\"button\"\n                className=\"clear-pdf-btn\"\n                onClick={() => setPdfFiles(prev => prev.filter((_, index) => index !== i))}\n              >\n                <FaTimes />\n              </button>\n            </div>\n            ))\n          )}\n\n          {driveFiles.length > 0 && (\n            driveFiles.map((file, i) => (\n            <div key={i} className=\"pdf-file-item\">\n              <GoogleDriveIcon size={16} style={{ marginRight: '8px' }} />\n              {file.driveName || file.name}\n              <button\n                type=\"button\"\n                className=\"clear-pdf-btn\"\n                onClick={() => setDriveFiles(prev => prev.filter((_, index) => index !== i))}\n              >\n                <FaTimes />\n              </button>\n            </div>\n            ))\n          )}\n\n          {youtubeUrls.map((url, i) => (\n            <div key={i} className=\"pdf-file-item youtube-thumb\">\n            <img\n              src={`https://img.youtube.com/vi/${extractYouTubeId(url)}/0.jpg`}\n              className=\"youtube-thumbnail\"\n            />\n            <button\n              type=\"button\"\n              className=\"clear-pdf-btn\"\n              onClick={() =>\n              setYoutubeUrls((prev) => prev.filter((_, index) => index !== i))\n              }\n            >\n              <FaTimes />\n            </button>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"search-controls\">\n          <GrAdd size={20} onClick={toggleDropdown}\n            color=\"black\"\n          />\n          <GoogleDrivePickerButton \n            onFileSelected={(file) => {\n              setDriveFiles(prev => [...prev, file]);\n            }}\n            onBeforeConnect={savePageState}\n          />\n          {dropdownVisible && (\n            <div className=\"dropdown-menu\">\n              <div\n                className=\"dropdown-item\"\n                onClick={() => {\n                  pdfPickerRef.current?.click();\n                  setDropdownVisible(false);\n                }}\n              >\n                Add PDF File\n              </div>\n              <div className=\"dropdown-item\"\n                onClick={() => {\n                  setDropdownVisible(false);\n                }}\n              >\n                Add MP4 File\n              </div>\n              <div className=\"dropdown-item\" onClick={toggleYoutubeBar}>\n                Add Youtube Video\n              </div>\n            </div>\n          )}\n\n          <input \n            type=\"text\" \n            placeholder=\"Enter your notes here\" \n            onChange={(e)=> setTextValue(e.target.value)}\n            value={textValue}\n          />\n            <BsArrowUpCircleFill\n              size={30}\n              color={loading ? \"grey\" : \"black\"}\n              onClick={handleSubmit}\n            />\n        </div>\n      </div>\n      {recentQuiz != null && (\n        <div>\n          <Quiz \n            key={recentQuiz._id}\n            text={recentQuiz.quizTitle + \": \" + recentQuiz.quizType}\n            id={recentQuiz._id}\n          />\n        </div>\n      )}\n      {recentFlashcard != null && (\n        <div>\n          <Flashcard\n            key={recentFlashcard._id}\n            text={recentFlashcard.flashcardTitle + \": \" + recentFlashcard.quizType}\n            id={recentFlashcard._id}\n          />\n        </div>\n      )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}