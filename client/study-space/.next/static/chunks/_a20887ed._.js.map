{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/quiz.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getQuizzes() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const quizzes = await QuizModel.find({ clerkId: userId }).lean();\n\n        const cleanQuizzes = quizzes.map(quiz => ({\n            ...quiz,\n            _id: quiz._id.toString(),\n        }));\n        \n        return cleanQuizzes;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function getRecentQuiz(){\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const mostRecentQuiz = await QuizModel.findOne({ clerkId: userId }).sort({ createdAt: -1 }).lean();\n        return mostRecentQuiz;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createQuiz(quizData) {\n    const { userId } = await auth();\n  \n    const formattedQuestions = quizData.questions.map((q) => ({\n      question: q.question,\n      options: q.options,\n      explanation: q.explanation,\n      answerIndexes: q.correctAnswer,\n      questionType: q.questionType,\n    }));\n  \n    await QuizModel.create({\n      clerkId: userId,\n      quizTitle: quizData.questions[0]?.quizTitle || \"Untitled Quiz\",\n      questions: formattedQuestions,\n      quizType: quizData.questions[0]?.quizType || \"Untitled Option\",\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteQuiz(id){\n    await QuizModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateQuiz(id, newText){\n    await QuizModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {quizTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAwCsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/flashcard.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport QuizModel from \"@/modals/quiz.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\nimport FlashcardModel from \"@/modals/flashcard.modal\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getFlashcards() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const flashcards = await FlashcardModel.find({ clerkId: userId }).lean();\n\n        const cleanFlashcards = flashcards.map(flashcard => ({\n            ...flashcard,\n            _id: flashcard._id.toString(),\n        }));\n        \n        return cleanFlashcards;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createFlashcard(flashcardData) {\n    const { userId } = await auth();\n  \n    await FlashcardModel.create({\n      clerkId: userId,\n      flashcardTitle: flashcardData.questions[0]?.flashcardTitle || \"Untitled Flashcard Set\",\n      questions: flashcardData.questions[0]?.questions,\n      answers: flashcardData.questions[0]?.answers,\n      quizType: flashcardData.questions[0]?.quizType || \"Untitled Option\",\n    });\n  \n    revalidatePath(\"/\");\n}\n  \nexport async function deleteFlashcard(id){\n    await FlashcardModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateFlashcard(id, newText){\n    await FlashcardModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {flashcardTitle: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IA8BsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}}]
}