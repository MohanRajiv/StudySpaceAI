{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/actions/todo.action.js"],"sourcesContent":["'use server';\nimport { connectToDB } from \"@/database\";\nimport mongoose from \"mongoose\";\nimport { revalidatePath } from \"next/cache\";\nimport TodoModel from \"@/modals/todo.modal\";\nimport { auth } from \"@clerk/nextjs/server\"; \nimport { ObjectId } from \"mongodb\";\n\n/**\n * Get all todos\n * @returns \n */\nexport async function getTodos() {\n    try {\n        const db = await connectToDB();\n        const { userId } = await auth();\n        const todos = await TodoModel.find({ clerkId: userId }).lean();\n\n        const cleanTodos = todos.map(todo => ({\n            ...todo,\n            _id: todo._id.toString(),\n        }));\n\n        return cleanTodos;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function createTodo(text){\n    const { userId } = await auth();\n    const todo = await TodoModel.create({clerkId: userId, message: text});\n    console.log(todo);\n    revalidatePath(\"/\");\n}\n\nexport async function deleteTodo(id){\n    await TodoModel.findOneAndDelete({_id: ObjectId.createFromHexString(id)})\n    revalidatePath(\"/\");\n}\n\nexport async function updateTodo(id, newText){\n    await TodoModel.findByIdAndUpdate({_id: ObjectId.createFromHexString(id)}, {$set: {message: newText}})\n    revalidatePath(\"/\");\n}"],"names":[],"mappings":";;;;;;;IAoCsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Downloads/study-space-ai/client/study-space/app/components/todo.js"],"sourcesContent":["\"use client\"\nimport { useState } from \"react\"\nimport { deleteTodo, updateTodo } from \"@/actions/todo.action\";\n\nexport default function Todo({text, id}) {\n    const [showUpdateInput, setShowUpdateInput] = useState(false);\n    const [newText, setNewText] = useState(text);\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        console.log(`Updating todo: ${id}`);\n        setShowUpdateInput(!showUpdateInput);\n    };\n\n    return (\n        <div className=\"formInput\">\n            <div>{text}</div>\n            {showUpdateInput && (\n                <input\n                    value={newText}\n                    onChange={(e) => setNewText(e.target.value)}\n                    type=\"text\"\n                    className=\"formInput\"\n                />\n            )}\n\n            <div>\n                {showUpdateInput ? (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Cancel\n                    </button>\n                ) : (\n                    <button onClick={() => deleteTodo(id)}>\n                        Delete\n                    </button>\n                )}\n\n                {showUpdateInput ? (\n                    <button onClick={handleUpdate}>\n                        Save\n                    </button>\n                ) : (\n                    <button onClick={() => setShowUpdateInput(!showUpdateInput)}>\n                        Update\n                    </button>\n                )}\n                \n            </div>\n\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS,KAAK,KAAU;QAAV,EAAC,IAAI,EAAE,EAAE,EAAC,GAAV;;IACzB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,QAAQ,GAAG,CAAC,AAAC,kBAAoB,OAAH;QAC9B,mBAAmB,CAAC;IACxB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;0BAAK;;;;;;YACL,iCACG,6LAAC;gBACG,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,MAAK;gBACL,WAAU;;;;;;0BAIlB,6LAAC;;oBACI,gCACG,6LAAC;wBAAO,SAAS,IAAM,mBAAmB,CAAC;kCAAkB;;;;;6CAI7D,6LAAC;wBAAO,SAAS,IAAM,IAAA,gKAAU,EAAC;kCAAK;;;;;;oBAK1C,gCACG,6LAAC;wBAAO,SAAS;kCAAc;;;;;6CAI/B,6LAAC;wBAAO,SAAS,IAAM,mBAAmB,CAAC;kCAAkB;;;;;;;;;;;;;;;;;;AASjF;GA/CwB;KAAA","debugId":null}}]
}